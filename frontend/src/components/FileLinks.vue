<script setup>
const props = defineProps({
  filePath: [String, Array, null]
})

let files = []

// ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô error ‡∏ñ‡πâ‡∏≤ filePath ‡πÄ‡∏õ‡πá‡∏ô null
if (props.filePath) {
  try {
    // ‡∏ñ‡πâ‡∏≤ filePath ‡πÄ‡∏õ‡πá‡∏ô string JSON ‚Üí ‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô array
    if (typeof props.filePath === 'string') {
      files = JSON.parse(props.filePath)
    } else if (Array.isArray(props.filePath)) {
      files = props.filePath
    }
  } catch (e) {
    console.warn('‚ùó Error parsing filePath:', props.filePath)
  }
}
</script>

<template>
  <div class="space-y-1">
    <div v-if="files.length === 0" class="text-gray-400 italic">‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏ô‡∏ö</div>
    <div v-else>
      <a
        v-for="(file, index) in files"
        :key="index"
        :href="`http://localhost:3000/uploads/${file}`"
        class="text-blue-600 hover:underline block"
        target="_blank"
        rel="noopener"
      >
        üìé {{ file }}
      </a>
    </div>
  </div>
</template>
